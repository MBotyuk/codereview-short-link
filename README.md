# codereview-short-link

### Для запуска приложения локально необходимо наличие:
*  Java 11
*  Maven 3
*  PostgreSQL 13.3

### Алгоритм создания короткой ссылки
```
String shortLink = LocalDate.now().getYear() % 100 +
CHARS[LocalDate.now().getMonthValue()] +
CHARS[LocalDate.now().getDayOfMonth()] +
CHARS[LocalDateTime.now().getHour()] +
CHARS[LocalDateTime.now().getMinute()] +
LocalDateTime.now().getNano() +
Thread.currentThread().getName().substring(Thread.currentThread().getName().length() - 1);
```
* строка 1 - получаю год и убираю первых две цифры
* строка 2 - получаю порядковый номер месяца и трансформирую его в символ
* строка 3 - получаю порядковый номер дня и трансформирую его в символ
* строка 4 - получаю значение часа из текущего времени и трансформирую его в символ
* строка 5 - получаю значение минуты из текущего времени и трансформирую его в символ
* строка 6 - получаю значение наносекунды из текущего времени и трансформирую его в символ
* строка 7 - получаю название потока целиком и с него выделяю только последний символ (символ будет числовым)

В своем алгоритме я использую дату и время с точностью до наносекунд, для того чтобы полученный результат был максимально не повторимым (единичным).
Также в конце я еще добавляю номер потока, чтобы возможность появления дублей свести к нулю. Мне кажется при таком алгоритме появление дублей просто не реально.
Еще я решил завести массив символов и из него по порядковому номеру получать значения и тем самым сделать возможность использовать в сокращенной ссылке не только числа, но и символы.
Кроме символов в массиве так же использую несколько чисел для того, чтобы размер массива составил 60 и я спокойно мог минуты переводить в символы. 
Все остальные значения так же не превышают отметку в 60, кроме наносекунд, поэтому наносекунд записываю числом.

В приложении еще используется кэширование. С его помощью я сокращаю количество обращений к БД (только в тех запросах, где данные статичны).

### Мои заметки/вопросы:
###### Ниже опишу свои слабые места, возможно это будет важно при формировании фидбэка
#### С БД не работал 2 года, так как все мои приложения крутятся вокруг Kafka. По этой причине запросы могут быть не самые оптимальные
#### С кэшированием познакомился впервые в рамках выполнения этой задачи.
#### С контролерами также давно уже не работал поэтому освежить в памяти информацию о написании их было очень полезным.
#### Тесты с использованием MockMvc будет так же очень полезной практикой.

**P.S.** задание очень понравилось, особенно если учесть, что с MVC давно не работал. Не пришлось погружаться в множество теории, а просто писал код. Подчеркнул для себя новые возможности, которые сразу начну применять на практике.

